<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>painto.color &#8212; painto 0.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css?v=279e0f84" />
    <script src="../../_static/documentation_options.js?v=b489f392"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/hexagon_rainbow.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">painto 0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">painto.color</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for painto.color</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">colorsys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections.abc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Iterator</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">ColorNotFoundError</span><span class="p">,</span>
    <span class="n">ColorRangeError</span><span class="p">,</span>
    <span class="n">InvalidColorArgumentsError</span><span class="p">,</span>
    <span class="n">InvalidHexStringError</span><span class="p">,</span>
    <span class="n">RequestsRequiredError</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">PIL</span><span class="w"> </span><span class="kn">import</span> <span class="n">Image</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">Image</span> <span class="o">=</span> <span class="kc">None</span>

<span class="n">ANSI_RESET</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[0m&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ColorSort</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; :meta private: &quot;&quot;&quot;</span>
    <span class="n">HUE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">LUMINOSITY</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>


<span class="n">SORT_BY</span> <span class="o">=</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">LUMINOSITY</span>
<span class="n">DYNAMIC_NAME_LOOKUP</span> <span class="o">=</span> <span class="kc">False</span>

<div class="viewcode-block" id="Color">
<a class="viewcode-back" href="../../api.html#painto.color.Color">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Color</span><span class="p">(</span><span class="nb">tuple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    A color class that represents RGBA colors and supports various operations.</span>

<span class="sd">    The Color class can be initialized from:</span>

<span class="sd">    * Color names (e.g., &quot;red&quot;, &quot;blue&quot;, &quot;aquamarine&quot;)</span>
<span class="sd">    * Hex strings (e.g., “``#6FC276`` |6Fc276|” or</span>
<span class="sd">      “``#6488EAFF`` |6488EA|” or “``#F00`` |red|”)</span>
<span class="sd">    * RGB/RGBA tuples (e.g., (255, 0, 0) or (255, 0, 0, 128))</span>

<span class="sd">    Features:</span>

<span class="sd">    * Arithmetic operations (+, \\*, /) for color blending and brightness</span>
<span class="sd">      adjustment: see :ref:`changingcolors`</span>
<span class="sd">    * Comparison operations for sorting by</span>
<span class="sd">      :func:`brightness (luminosity) &lt;painto.sort_by_luminosity&gt;` or</span>
<span class="sd">      :func:`rainbow color (hue) &lt;painto.sort_by_hue&gt;`: See :ref:`sortingcolors`</span>
<span class="sd">    * Lots of conversions and color details: See :ref:`colorproperties`</span>

<span class="sd">    The full :ref:`Usage Guide &lt;usageguide&gt;` has more comprehensive examples and idea.</span>

<span class="sd">    :Example:</span>
<span class="sd">        &gt;&gt;&gt; red = painto.red</span>
<span class="sd">        &gt;&gt;&gt; print(red.hex)</span>

<span class="sd">        ``#FF0000`` |red|</span>

<span class="sd">        &gt;&gt;&gt; blue = painto.Color(&quot;#0000FF&quot;)</span>
<span class="sd">        &gt;&gt;&gt; print(blue.hex)</span>

<span class="sd">        ``#0000FF`` |blue|</span>

<span class="sd">        &gt;&gt;&gt; purple = red + blue</span>
<span class="sd">        &gt;&gt;&gt; print(purple.hex)</span>

<span class="sd">        ``#7F007F`` |7F007F|</span>

<span class="sd">        &gt;&gt;&gt; darker_purple = purple / 2</span>
<span class="sd">        &gt;&gt;&gt; print(darker_purple.hex)</span>

<span class="sd">        ``#3F003F`` |3F003F|</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="c1"># region Dunder functions</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Color&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a Color instance.</span>

<span class="sd">        Args can be:</span>
<span class="sd">            - Single str arg: Color name or hex string</span>
<span class="sd">            - Single tuple arg: RGB(A) tuple</span>
<span class="sd">            - Three ints: r,g,b values</span>
<span class="sd">            - Four ints: r,g,b,a values</span>

<span class="sd">        Kwargs can include:</span>
<span class="sd">            name: Optional name for the color</span>
<span class="sd">            source: Optional source identifier</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">color_rgb</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>  <span class="c1"># Handle hex string</span>
                    <span class="n">color_rgb</span> <span class="o">=</span> <span class="n">_rgba_from_hex</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># Handle color name</span>
                    <span class="n">color_rgb</span> <span class="o">=</span> <span class="n">_rgba_from_name</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}:</span>
                <span class="k">raise</span> <span class="n">InvalidColorArgumentsError</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">color_rgb</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}:</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="n">InvalidColorArgumentsError</span><span class="p">()</span>
            <span class="n">color_rgb</span> <span class="o">=</span> <span class="n">args</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidColorArgumentsError</span><span class="p">()</span>

        <span class="n">a</span> <span class="o">=</span> <span class="mi">255</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">color_rgb</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">color_rgb</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

        <span class="c1"># this makes (1000, 200, 100) turn in to a sensible color</span>
        <span class="n">color_rgb</span> <span class="o">=</span> <span class="n">_redistribute_rgb</span><span class="p">(</span><span class="n">color_rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color_rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color_rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">a</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">255</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">color_rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="p">(</span><span class="o">*</span><span class="n">color_rgb</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>


    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">!=</span> <span class="mi">255</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;, a=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Color(r=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="si">}</span><span class="s2">, g=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="si">}</span><span class="s2">, b=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">}{</span><span class="n">a</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Blend two colors by averaging their RGBA values.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">r</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">g</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">b</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">+</span> <span class="n">other</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">//</span> <span class="mi">2</span>
                <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span> <span class="o">+</span> <span class="n">other</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">//</span> <span class="mi">2</span>
                <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">+</span> <span class="n">other</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">//</span> <span class="mi">2</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">+</span> <span class="n">other</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">//</span> <span class="mi">2</span>
                <span class="k">return</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">color_from_name</span> <span class="o">=</span> <span class="n">_rgba_from_name</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">ColorNotFoundError</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">NotImplemented</span>
            <span class="k">return</span> <span class="bp">self</span> <span class="o">+</span> <span class="n">color_from_name</span>

        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">+</span> <span class="n">other</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Compare two colors for equality.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgba</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">rgba</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>  <span class="c1"># Handle hex string</span>
                    <span class="n">color_from_str</span> <span class="o">=</span> <span class="n">_rgba_from_hex</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># Handle color name</span>
                    <span class="n">color_from_str</span> <span class="o">=</span> <span class="n">_rgba_from_name</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">ColorNotFoundError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">color_from_str</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb</span> <span class="o">==</span> <span class="n">other</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgba</span> <span class="o">==</span> <span class="n">other</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Color&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Multiply the color by a factor (will lighten/darken the color).&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">):</span>

            <span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">*</span> <span class="n">other</span><span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span> <span class="o">*</span> <span class="n">other</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">*</span> <span class="n">other</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">_redistribute_rgb</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Color&#39;</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: ANN001</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span> <span class="o">*</span> <span class="n">other</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Color&#39;</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: ANN001</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="c1"># Compare colors by brightness</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: ANN001</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">SORT_BY</span> <span class="o">==</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">HUE</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">h</span>
            <span class="k">if</span> <span class="n">SORT_BY</span> <span class="o">==</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">LUMINOSITY</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">luminosity</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">luminosity</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: ANN001</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">SORT_BY</span> <span class="o">==</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">HUE</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">h</span>
            <span class="k">if</span> <span class="n">SORT_BY</span> <span class="o">==</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">LUMINOSITY</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">luminosity</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">luminosity</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: ANN001</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">SORT_BY</span> <span class="o">==</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">HUE</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">h</span>
            <span class="k">if</span> <span class="n">SORT_BY</span> <span class="o">==</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">LUMINOSITY</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">luminosity</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">luminosity</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: ANN001</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">SORT_BY</span> <span class="o">==</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">HUE</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">h</span>
            <span class="k">if</span> <span class="n">SORT_BY</span> <span class="o">==</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">LUMINOSITY</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">luminosity</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">luminosity</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Color&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span>

<span class="c1"># endregion Dunder functions</span>

<span class="c1"># region Public properties</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">rgba</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Returns the Color object as an RGBA tuple.</span>

<span class="sd">        Typically this property shouldn&#39;t be needed since :class:`Color` itself</span>
<span class="sd">        is a :type:`tuple` and can be used in place of one anywhere an RGB :type:`tuple`</span>
<span class="sd">        is expected. Use this, then, if you want to be more explicit,</span>
<span class="sd">        or if you want to force the :type:`tuple` into a len(4) :type:`tuple`,</span>
<span class="sd">        otherwise if there is no transparency on a :type:`tuple`, it becomes a</span>
<span class="sd">        len(3) (RGB only) :type:`tuple`.</span>

<span class="sd">        See :attr:`rgb` for the same concept but only returning the RGB :type:`tuple`</span>
<span class="sd">        as a len(3) :type:`tuple`, dropping the alpha information.</span>

<span class="sd">        :returns: RGBA values (0-255) for the color values, including alpha.</span>

<span class="sd">        :rtype: :type:`tuple[int, int, int, int]`</span>

<span class="sd">        See also: :attr:`rgb`, :attr:`r`, :attr:`g`, :attr:`b`, :attr:`a`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Returns the Color object as an RGB tuple.</span>

<span class="sd">        Typically this property shouldn&#39;t be needed since :class:`Color` itself</span>
<span class="sd">        is a :type:`tuple` and can be used in place of one anywhere an RGB tuple</span>
<span class="sd">        is expected. Use this, then, if you want to be more explicit,</span>
<span class="sd">        or if you want to force the :type:`tuple` into a len(3) :type:`tuple`, removing</span>
<span class="sd">        any alpha (transparency) information if there is any.</span>

<span class="sd">        See :attr:`rgba` for the same concept but returning a RGBA :type:`tuple`</span>
<span class="sd">        as a len(4) :type:`tuple` instead.</span>

<span class="sd">        :returns: RGB values (0-255) for the color values.</span>

<span class="sd">        :rtype: :type:`tuple[int, int, int]`</span>

<span class="sd">        See also: :attr:`rgba`, :attr:`r`, :attr:`g`, :attr:`b`, :attr:`a`</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">r</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Returns just the R (red) component of the color. </span>

<span class="sd">        :returns: Red |red| component of the color (0-255)</span>
<span class="sd">        :rtype: :type:`int`</span>

<span class="sd">        See also: :attr:`rgb`, :attr:`rgb`, :attr:`g`, :attr:`b`, :attr:`a`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">g</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Returns just the G (green) component of the color.</span>

<span class="sd">        :returns: Green |green| component of the color (0-255)</span>
<span class="sd">        :rtype: :type:`int`</span>

<span class="sd">        See also: :attr:`rgb`, :attr:`rgb`, :attr:`r`, :attr:`b`, :attr:`a`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">b</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Returns just the B (blue) component of the color.</span>

<span class="sd">        :returns: Blue |blue| component of the color (0-255)</span>
<span class="sd">        :rtype: :type:`int`</span>

<span class="sd">        See also: :attr:`rgb`, :attr:`rgb`, :attr:`r`, :attr:`g`, :attr:`a`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">a</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Returns just the A (alpha/trasparency) component of the color.</span>

<span class="sd">        If a :class:`color` does not have any transparency, the color</span>
<span class="sd">        :type:`tuple` returns without it (125, 10, 45). With this property</span>
<span class="sd">        it returns 255 (for &quot;no alpha&quot;) consistent with other RGBA uses when</span>
<span class="sd">        you need an alpha number, even if you&#39;re not using transparency</span>
<span class="sd">        in this color.</span>

<span class="sd">        :returns: Alpha component of the color (0-255)</span>
<span class="sd">        :rtype: :type:`int`</span>
<span class="sd">        </span>
<span class="sd">        See also: :attr:`rgb`, :attr:`rgb`, :attr:`r`, :attr:`g`, :attr:`b`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="mi">255</span>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">hls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_hls&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hls</span> <span class="o">=</span> <span class="n">colorsys</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hls</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">hsv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_hsv&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hsv</span> <span class="o">=</span> <span class="n">colorsys</span><span class="o">.</span><span class="n">rgb_to_hsv</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hsv</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">h</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">s</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">v</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">luminosity</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_luminosity&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_luminosity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">grayscale</span><span class="o">.</span><span class="n">r</span> <span class="o">/</span> <span class="mi">255</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_luminosity</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">grayscale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Color&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_grayscale&quot;</span><span class="p">):</span>
            <span class="n">gray</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mf">0.2126</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">+</span> <span class="mf">0.7152</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.0722</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grayscale</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="n">gray</span><span class="p">,</span> <span class="n">gray</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grayscale</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">hex</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the color as a hex string. See also :attr:`name`.</span>

<span class="sd">        :return: The color as a hex string.</span>
<span class="sd">        :rtype: str</span>

<span class="sd">        :Example:</span>
<span class="sd">            &gt;&gt;&gt; choco = painto.milkchocolate</span>
<span class="sd">            &gt;&gt;&gt; print(choco.hex)</span>

<span class="sd">            ``#7F4E1E`` |7F4E1E|</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_hex&quot;</span><span class="p">):</span>
            <span class="n">hex_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;#</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="si">:</span><span class="s2">02X</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="si">:</span><span class="s2">02X</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">:</span><span class="s2">02X</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">!=</span> <span class="mi">255</span><span class="p">:</span>
                <span class="n">hex_str</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="si">:</span><span class="s2">02X</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hex</span> <span class="o">=</span> <span class="n">hex_str</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hex</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the friendly name if it exists, otherwise the hex value.</span>
<span class="sd">        See also :attr:`hex`.</span>

<span class="sd">        .. |mahogany| image:: ../assets/4A0100.png</span>

<span class="sd">        :return:</span>
<span class="sd">            The color as a friendly name or hex string.</span>
<span class="sd">        :rtype:</span>
<span class="sd">            :type:`str`</span>

<span class="sd">        :Example:</span>

<span class="sd">            &gt;&gt;&gt; color1 = painto.Color(&quot;#4a0100&quot;)</span>
<span class="sd">            &gt;&gt;&gt; print(color1.name)</span>

<span class="sd">            ``mahogany`` |mahogany|</span>

<span class="sd">            &gt;&gt;&gt; color2 = painto.Color(&quot;#6589E7&quot;)</span>
<span class="sd">            &gt;&gt;&gt; print(color2.name)</span>

<span class="sd">            ``#6589E7`` |6589E7|</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_name&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">DYNAMIC_NAME_LOOKUP</span><span class="p">:</span>
                <span class="nb">delattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_name&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_name&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="s2">&quot;transparent&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Check for a friendly name in the reverse lookup</span>
                <span class="c1"># Search through color lists for a matching RGB value</span>
                <span class="k">for</span> <span class="n">color_list</span> <span class="ow">in</span> <span class="n">color_lists</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">color_list</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="n">rgb</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">source</span>
                            <span class="k">break</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_name&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">DYNAMIC_NAME_LOOKUP</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name_lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">==</span> <span class="s2">&quot;unknown&quot;</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hex</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="o">=</span> <span class="s2">&quot;Color.pizza&quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hex</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">web</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the color as a web color string.</span>

<span class="sd">        This returns the color as a string that can be used in HTML, CSS, and other</span>
<span class="sd">        web-based contexts. Specifically, it tries to return the shortest string that</span>
<span class="sd">        can still be used to identify the color. These rules are:</span>
<span class="sd">       </span>
<span class="sd">        - Start with the hex code of the color (``#RRGGBB``)</span>
<span class="sd">        - Use the hex short code (``#RGB``) if it can work for this color. This works if</span>
<span class="sd">          all three values are matching character pairs, e.g. ``#AA2200`` |AA2200| becomes </span>
<span class="sd">          ``#A20`` |AA2200|, or ``#CC11BB`` |CC11BB| becomes ``#C1B`` |CC11BB|.</span>
<span class="sd">        - If the color has a :attr:`painto.w3c` name, use the name only if it&#39;s equal or shorter than</span>
<span class="sd">          the hex code. This can sometimes be shorter than the short hex code (``red``), but</span>
<span class="sd">          without a short code, it will replace the hex code if the name is 7-characters or less.</span>

<span class="sd">        :Example:</span>
<span class="sd">            - ``aquamarine`` becomes ``#7FFFD4`` |7FFFD4|</span>
<span class="sd">            - ``#FF0000`` |red| becomes ``red``</span>
<span class="sd">            - ``fuchsia`` becomes ``#F0F`` |FF00FF|</span>

<span class="sd">        :returns: The color as a web color string (``#RRGGBB`` or ``name`` or ``#RGB``)</span>
<span class="sd">        :rtype: :type:`str`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">hex_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hex</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span>
        <span class="c1"># Check if can be shortened: RRGGBB where RR, GG, BB are pairs of same chars</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">hex_code</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
            <span class="ow">and</span> <span class="n">hex_code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">hex_code</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">hex_code</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">hex_code</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">hex_code</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="n">hex_code</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">hex_code</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;#</span><span class="si">{</span><span class="n">hex_code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}{</span><span class="n">hex_code</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}{</span><span class="n">hex_code</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="s2">&quot;w3c&quot;</span> <span class="ow">in</span> <span class="n">color_lists</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">color_lists</span><span class="p">[</span><span class="s2">&quot;w3c&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="bp">self</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">hex_code</span><span class="p">):</span>
                        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">hex_code</span>
        <span class="k">return</span> <span class="n">hex_code</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_source&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">foreground</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Color&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Presuming self is the background color, return a contrasting</span>
<span class="sd">        foreground :type:`Color` for foregound text. Will return black or white, </span>
<span class="sd">        whichever is more visible on the background.</span>

<span class="sd">        :return:</span>
<span class="sd">            A :type:`Color` object with the foreground color.</span>
<span class="sd">        :rtype:</span>
<span class="sd">            :type:`Color` (either black or white)</span>

<span class="sd">        :Example:</span>
<span class="sd">            &gt;&gt;&gt; merlot = painto.merlot</span>
<span class="sd">            &gt;&gt;&gt; print(merlot.foreground)</span>
<span class="sd">            white</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_foreground&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">luminosity</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_foreground</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_foreground</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_foreground</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">ansi_escape</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the ANSI escape sequence for setting text color in the console. Be</span>
<span class="sd">        sure to use the :meth:`ansi_reset` to reset the color after the text or the color</span>
<span class="sd">        change will persist until the next color change onto future lines.</span>

<span class="sd">        See :ref:`terminalcolors` for more information on using colors in the terminal.</span>

<span class="sd">        :return: ANSI escape sequence that sets text foreground color to this color</span>

<span class="sd">        :rtype: :type:`str`</span>

<span class="sd">        :Example:</span>
<span class="sd">            &gt;&gt;&gt; red = painto.red</span>
<span class="sd">            &gt;&gt;&gt; print(f&quot;{red.ansi_escape}This text is red{red.ansi_reset}&quot;)</span>

<span class="sd">            .. raw:: html</span>

<span class="sd">               &lt;pre&gt;&lt;font color=&quot;red&quot;&gt;This text is red&lt;/font&gt;&lt;/pre&gt;</span>

<span class="sd">        :Note:</span>

<span class="sd">            Combine this with :meth:`ansi_escape_bg` to set a background color and text color:</span>

<span class="sd">            &gt;&gt;&gt; red = painto.red</span>
<span class="sd">            &gt;&gt;&gt; black = painto.black</span>
<span class="sd">            &gt;&gt;&gt; print(f&quot;{red.ansi_escape_bg}{black.ansi_escape}Black on red{red.ansi_reset}&quot;)</span>

<span class="sd">            .. raw:: html</span>

<span class="sd">               &lt;pre&gt;&lt;span style=&quot;color:#000;background-color:#F00;&quot;&gt;Black on red&lt;/span&gt;&lt;/pre&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_console&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_console</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[38;2;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="si">}</span><span class="s2">;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="si">}</span><span class="s2">;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">}</span><span class="s2">m&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_console</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">ansi_escape_bg</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the ANSI escape sequence for setting the background color in the console. Be</span>
<span class="sd">        sure to use the :meth:`ansi_reset` to reset the color after the text or the color</span>
<span class="sd">        change will persist until the next color change onto future lines.</span>

<span class="sd">        See :ref:`terminalcolors` for more information on using colors in the terminal.</span>

<span class="sd">        :return:</span>
<span class="sd">            ANSI escape sequence that sets text background color to this color</span>
<span class="sd">        :rtype:</span>
<span class="sd">            :type:`str`</span>

<span class="sd">        :Example:</span>

<span class="sd">            &gt;&gt;&gt; red = painto.red</span>
<span class="sd">            &gt;&gt;&gt; print(f&quot;{red.ansi_escape_bg}Text on a red background{red.ansi_reset}&quot;)</span>

<span class="sd">            .. raw:: html</span>

<span class="sd">                &lt;pre&gt;&lt;span style=&quot;background-color:#F00;&quot;&gt;Text on a red background&lt;/span&gt;&lt;/pre&gt;</span>


<span class="sd">        :Note:</span>
<span class="sd">            Combine this with :meth:`ansi_escape` to set a background color and text color::</span>

<span class="sd">            &gt;&gt;&gt; red = painto.red</span>
<span class="sd">            &gt;&gt;&gt; white = painto.white</span>
<span class="sd">            &gt;&gt;&gt; print(f&quot;{red.ansi_escape_bg}{white.ansi_escape}White on red{red.ansi_reset}&quot;)</span>

<span class="sd">            .. raw:: html</span>

<span class="sd">               &lt;pre&gt;&lt;span style=&quot;color:#FFF;background-color:#F00;&quot;&gt;White on red&lt;/span&gt;&lt;/pre&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_console_bg&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_console_bg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[48;2;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="si">}</span><span class="s2">;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="si">}</span><span class="s2">;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">}</span><span class="s2">m&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_console_bg</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">ansi_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the ANSI escape sequence to reset colors.</span>
<span class="sd">        This is the same for all colors, so it&#39;s just a convenient alias. Without putting</span>
<span class="sd">        this in your console output the colors will persist until the next color change</span>
<span class="sd">        onto future lines.</span>

<span class="sd">        See :ref:`terminalcolors` for more information on using colors in the terminal.</span>

<span class="sd">        :return:</span>
<span class="sd">            ANSI escape sequence that resets all terminal colors to default. (``&lt;ESC&gt;[0m``)</span>
<span class="sd">        :rtype:</span>
<span class="sd">            :type:`str`</span>

<span class="sd">        :Example:</span>

<span class="sd">            &gt;&gt;&gt; sunny = painto.sunnyyellow</span>
<span class="sd">            &gt;&gt;&gt; print(f&quot;{sunny.ansi_escape_bg}Always reset your colors{sunny.ansi_reset}&quot;)</span>

<span class="sd">            .. raw:: html</span>

<span class="sd">                &lt;pre&gt;&lt;span style=&quot;background-color:#fff917;&quot;&gt;Always reset your colors&lt;/span&gt;&lt;/pre&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ANSI_RESET</span>

<span class="c1"># endregion Public properties</span>

<span class="c1"># region Public functions</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>


<div class="viewcode-block" id="Color.console">
<a class="viewcode-back" href="../../api.html#painto.color.Color.console">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">console</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">background</span><span class="p">:</span> <span class="s1">&#39;Color&#39;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wraps text with ANSI escape sequences to display it in this :type:`Color` as the</span>
<span class="sd">        foreground/text color. This function also wraps the text with the reset to</span>
<span class="sd">        put the colors back to normal after the text.</span>

<span class="sd">        See :ref:`terminalcolors` for more information on using colors in the terminal.</span>


<span class="sd">        :param text: The text to colorize.</span>
<span class="sd">        :type text: :type:`str`</span>
<span class="sd">        :param background: The background color to use. If not provided, the background will be left</span>
<span class="sd">        :type background: :type:`Color`</span>

<span class="sd">        :return: The text wrapped with ANSI escape sequences to display in this color.</span>
<span class="sd">        :rtype: :type:`str`</span>

<span class="sd">        :Example:</span>
<span class="sd">            &gt;&gt;&gt; purple = painto.royalpurple</span>
<span class="sd">            &gt;&gt;&gt; print(red.console(&quot;This text is royal purple&quot;))</span>

<span class="sd">            .. raw:: html</span>

<span class="sd">                &lt;pre&gt;&lt;font color=&quot;#4b006e&quot;&gt;This text is royal purple&lt;/font&gt;&lt;/pre&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fg_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ansi_escape</span>
        <span class="k">if</span> <span class="n">background</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fg_color</span><span class="si">}{</span><span class="n">text</span><span class="si">}{</span><span class="n">ANSI_RESET</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">bg_color</span> <span class="o">=</span> <span class="n">background</span><span class="o">.</span><span class="n">ansi_escape_bg</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bg_color</span><span class="si">}{</span><span class="n">fg_color</span><span class="si">}{</span><span class="n">text</span><span class="si">}{</span><span class="n">ANSI_RESET</span><span class="si">}</span><span class="s2">&quot;</span></div>


<div class="viewcode-block" id="Color.console_bg">
<a class="viewcode-back" href="../../api.html#painto.color.Color.console_bg">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">console_bg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wraps text with ANSI escape sequences to display it with this as the</span>
<span class="sd">        background :type:`Color`.</span>

<span class="sd">        The text :type:`Color` will be automatically set to either black or white depending on</span>
<span class="sd">        the background :type:`Color`&#39;s luminosity for best contrast.</span>

<span class="sd">        See :ref:`terminalcolors` for more information on using colors in the terminal.</span>


<span class="sd">        :param text: The text to display on the colored background.</span>
<span class="sd">        :type text: :type:`str`</span>

<span class="sd">        :return: The text wrapped with ANSI escape sequences for background and foreground colors.</span>

<span class="sd">        :Example:</span>

<span class="sd">            &gt;&gt;&gt; blue = painto.nightblue</span>
<span class="sd">            &gt;&gt;&gt; print(blue.console_bg(&quot;Dark background will have white text&quot;))</span>

<span class="sd">            .. raw:: html</span>

<span class="sd">                &lt;pre&gt;&lt;span style=&quot;color:#FFF;background-color:#040348;&quot;&gt;Dark background will have white text&lt;/span&gt;&lt;/pre&gt;</span>

<span class="sd">            &gt;&gt;&gt; blue = painto.neonblue</span>
<span class="sd">            &gt;&gt;&gt; print(blue.console_bg(&quot;Light background will have black text&quot;))</span>

<span class="sd">            .. raw:: html</span>

<span class="sd">                &lt;pre&gt;&lt;span style=&quot;color:#000;background-color:#04d9ff;&quot;&gt;Light background will have black text&lt;/span&gt;&lt;/pre&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
        <span class="n">bg_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ansi_escape_bg</span>
        <span class="n">fg_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreground</span><span class="o">.</span><span class="n">ansi_escape</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bg_color</span><span class="si">}{</span><span class="n">fg_color</span><span class="si">}{</span><span class="n">text</span><span class="si">}{</span><span class="n">ANSI_RESET</span><span class="si">}</span><span class="s2">&quot;</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;Color&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Color&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Color</span><span class="p">(</span>
            <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">r</span><span class="p">),</span>
            <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">g</span><span class="p">),</span>
            <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">b</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">swatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Image</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_build_pil_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span></div>


<span class="c1"># endregion</span>
<span class="c1"># region Internal functions</span>

<span class="c1"># endregion Internal functions</span>

<span class="c1"># region Private functions</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_clamp</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">min_value</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">max_value</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">min_value</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">max_value</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_redistribute_rgb</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">g</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
    <span class="n">threshold</span> <span class="o">=</span> <span class="mf">255.999</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m</span> <span class="o">&lt;=</span> <span class="n">threshold</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="n">g</span> <span class="o">+</span> <span class="n">b</span>
    <span class="k">if</span> <span class="n">total</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">threshold</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">threshold</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">threshold</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">threshold</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">threshold</span> <span class="o">-</span> <span class="n">total</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">m</span> <span class="o">-</span> <span class="n">total</span><span class="p">)</span>
    <span class="n">gray</span> <span class="o">=</span> <span class="n">threshold</span> <span class="o">-</span> <span class="n">x</span> <span class="o">*</span> <span class="n">m</span>
    <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">255</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">gray</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">r</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">gray</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">g</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">gray</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">gray</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">r</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">gray</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">g</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">gray</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">b</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_rgba_from_name</span><span class="p">(</span><span class="n">color_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve a color by its human-readable name.&quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">color_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">color_list</span> <span class="ow">in</span> <span class="n">color_lists</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">color_name</span> <span class="ow">in</span> <span class="n">color_list</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">color_list</span><span class="p">[</span><span class="n">color_name</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;transparent&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">transparent</span>

    <span class="k">raise</span> <span class="n">ColorNotFoundError</span><span class="p">(</span><span class="n">color_name</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_rgba_from_hex</span><span class="p">(</span><span class="n">hex_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a hex color string to an RGBA tuple.&quot;&quot;&quot;</span>
    <span class="n">hex_str</span> <span class="o">=</span> <span class="n">hex_str</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">hex_str</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>  <span class="c1"># RGB format</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="mi">16</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">hex_str</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>  <span class="c1"># RGBA format</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">8</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">hex_str</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># CSS Short format</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">hex_str</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span>
    <span class="k">raise</span> <span class="n">InvalidHexStringError</span><span class="p">(</span><span class="n">hex_str</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_build_pil_image</span><span class="p">(</span><span class="n">color</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Image</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Builds a PNG image of the color.&quot;&quot;&quot;</span>
    <span class="c1"># TODO: Should be a simple enough PNG we should build this manually instead</span>
    <span class="c1"># of the overhead of PIL</span>
    <span class="k">if</span> <span class="n">Image</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">()</span>
    <span class="n">space</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span> <span class="k">else</span> <span class="s2">&quot;RGBA&quot;</span>

    <span class="k">return</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">space</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">color</span><span class="p">)</span>

<span class="c1"># endregion Private functions</span>


<span class="c1"># region Public static functions</span>

<div class="viewcode-block" id="name_lookup">
<a class="viewcode-back" href="../../api.html#painto.color.name_lookup">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">name_lookup</span><span class="p">(</span><span class="n">color_to_name</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Looks up a human-readable name for a :type:`Color` using the</span>
<span class="sd">    `color.pizza &lt;https://color.pizza&gt;`_ [#]_ API.</span>

<span class="sd">    Makes a request to the ``color.pizza`` API to find the closest named color match</span>
<span class="sd">    for the given :type:`Color`.</span>

<span class="sd">    See :ref:`newcolornames` for detail about new color name lookups, or</span>
<span class="sd">    :meth:`enable_dynamic_name_lookup` and :meth:`disable_dynamic_name_lookup` about changing</span>
<span class="sd">    the default behavior about automatically looking up color names.</span>

<span class="sd">    :param color_to_name: The :type:`Color` object to find a name for</span>
<span class="sd">    :type color_to_name: :type:`Color`</span>

<span class="sd">    :returns:</span>
<span class="sd">        The suggested name for the color from the API, or &quot;unknown&quot; if the</span>
<span class="sd">        API request fails</span>
<span class="sd">    :rtype: :type:`str`</span>

<span class="sd">    :Example:</span>
<span class="sd">        &gt;&gt;&gt; new_color = painto.random_color()</span>
<span class="sd">        &gt;&gt;&gt; print(painto.name_lookup(new_color))</span>

<span class="sd">    :raises:</span>
<span class="sd">        :exception ImportError: If the `requests &lt;https://docs.python-requests.org/en/latest/&gt;`_ \</span>
<span class="sd">        library is not available.</span>

<span class="sd">    .. [#] Here is an `overview of the color.pizza API &lt;https://felixluginbuhl.com/colornames/reference/get_color_colorpizza.html&gt;`_</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># late import so we don&#39;t try unless we&#39;re actually going to use it.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
    <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">RequestsRequiredError</span><span class="p">()</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://api.color.pizza/v1/&quot;</span>

    <span class="n">hex_color</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">color_to_name</span><span class="o">.</span><span class="n">r</span><span class="si">:</span><span class="s2">02X</span><span class="si">}{</span><span class="n">color_to_name</span><span class="o">.</span><span class="n">g</span><span class="si">:</span><span class="s2">02X</span><span class="si">}{</span><span class="n">color_to_name</span><span class="o">.</span><span class="n">b</span><span class="si">:</span><span class="s2">02X</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">?values=</span><span class="si">{</span><span class="n">hex_color</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">api_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">suggested_name</span> <span class="o">=</span> <span class="n">api_data</span><span class="p">[</span><span class="s2">&quot;colors&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">api_data</span><span class="p">[</span><span class="s2">&quot;colors&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;Unknown&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">suggested_name</span> <span class="o">=</span> <span class="s2">&quot;unknown&quot;</span>

    <span class="k">return</span> <span class="n">suggested_name</span></div>




<div class="viewcode-block" id="random_color">
<a class="viewcode-back" href="../../api.html#painto.color.random_color">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">random_color</span><span class="p">(</span><span class="n">count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates random color(s) with RGB values between 0-255.</span>

<span class="sd">    :param count: Number of random colors to generate. Defaults to 1.</span>
<span class="sd">    :type count: int</span>

<span class="sd">    :return: A single random Color object or a list of random Color objects.</span>
<span class="sd">    :rtype: Color or list[Color]</span>

<span class="sd">    :Example:</span>
<span class="sd">        &gt;&gt;&gt; color = painto.random_color()  # Get a single random color</span>
<span class="sd">        &gt;&gt;&gt; print(color.hex)</span>

<span class="sd">        ``#6589E7`` |6589E7|</span>

<span class="sd">        &gt;&gt;&gt; colors = painto.random_color(5)  # Get 5 random colors</span>
<span class="sd">        &gt;&gt;&gt; for color in colors:</span>
<span class="sd">        ...     print(color.hex)</span>

<span class="sd">        ``#9ADE8A`` |9ADE8A|</span>

<span class="sd">        ``#F2F578`` |F2F578|</span>

<span class="sd">        ``#633149`` |633149|</span>

<span class="sd">        ``#9313C0`` |9313C0|</span>

<span class="sd">        ``#83E2A4`` |83E2A4|</span>

<span class="sd">    If you&#39;re wanting a random color or colors from a specific color list,</span>
<span class="sd">    see :meth:`ColorList.random`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>  <span class="c1"># noqa: S311</span>

    <span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
        <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Color</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)))</span>  <span class="c1"># noqa: S311</span>
    <span class="k">return</span> <span class="n">colors</span></div>


<span class="k">def</span><span class="w"> </span><span class="nf">color_range</span><span class="p">(</span><span class="n">start</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
                <span class="n">end</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
                <span class="n">steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
                <span class="o">*</span><span class="p">,</span>
                <span class="n">inclusive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">steps</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ColorRangeError</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">inclusive</span><span class="p">:</span>
        <span class="n">steps</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="n">h_step</span> <span class="o">=</span> <span class="p">(</span><span class="n">end</span><span class="o">.</span><span class="n">h</span> <span class="o">-</span> <span class="n">start</span><span class="o">.</span><span class="n">h</span><span class="p">)</span> <span class="o">/</span> <span class="n">steps</span>
    <span class="n">v_step</span> <span class="o">=</span> <span class="p">(</span><span class="n">end</span><span class="o">.</span><span class="n">v</span> <span class="o">-</span> <span class="n">start</span><span class="o">.</span><span class="n">v</span><span class="p">)</span> <span class="o">/</span> <span class="n">steps</span>
    <span class="n">s_step</span> <span class="o">=</span> <span class="p">(</span><span class="n">end</span><span class="o">.</span><span class="n">s</span> <span class="o">-</span> <span class="n">start</span><span class="o">.</span><span class="n">s</span><span class="p">)</span> <span class="o">/</span> <span class="n">steps</span>
    <span class="n">alpha_step</span> <span class="o">=</span> <span class="p">(</span><span class="n">end</span><span class="o">.</span><span class="n">a</span> <span class="o">-</span> <span class="n">start</span><span class="o">.</span><span class="n">a</span><span class="p">)</span> <span class="o">/</span> <span class="n">steps</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">steps</span><span class="p">):</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">h</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">h_step</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">v</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">v_step</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">s</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">s_step</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">a</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">alpha_step</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">colorsys</span><span class="o">.</span><span class="n">hsv_to_rgb</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Color</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">inclusive</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">end</span>

<div class="viewcode-block" id="sort_by_hue">
<a class="viewcode-back" href="../../api.html#painto.color.sort_by_hue">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">sort_by_hue</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the global color sorting method to sort by hue.</span>

<span class="sd">    This function changes the global sorting option to sort colors by their hue</span>
<span class="sd">    (rainbow) order. The default is to sort by luminosity/brightness. To change</span>
<span class="sd">    back to sorting by luminosity, call :meth:`sort_by_luminosity`.</span>

<span class="sd">    See also :ref:`sortingcolors` for examples and details on sorting.</span>

<span class="sd">    |hues|</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">SORT_BY</span>
    <span class="n">SORT_BY</span> <span class="o">=</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">HUE</span></div>


<div class="viewcode-block" id="sort_by_luminosity">
<a class="viewcode-back" href="../../api.html#painto.color.sort_by_luminosity">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">sort_by_luminosity</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the global color sorting method to sort by luminosity/brightness.</span>

<span class="sd">    This function changes the global sorting option to sort colors by their</span>
<span class="sd">    luminosity value. This is the default sorting method.</span>

<span class="sd">    You can change to sort by hue (rainbow) by calling :meth:`sort_by_hue`.</span>

<span class="sd">    See also :ref:`sortingcolors` for examples and details on sorting.</span>

<span class="sd">    |lumin|</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">SORT_BY</span>
    <span class="n">SORT_BY</span> <span class="o">=</span> <span class="n">ColorSort</span><span class="o">.</span><span class="n">LUMINOSITY</span></div>


<div class="viewcode-block" id="sorting_by">
<a class="viewcode-back" href="../../api.html#painto.color.sorting_by">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">sorting_by</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the current global color sorting method.</span>

<span class="sd">    See also :ref:`sortingcolors` for examples and details on sorting.</span>

<span class="sd">    :returns:</span>
<span class="sd">        The name of the current sorting method (&#39;hue&#39; or &#39;luminosity&#39;)</span>
<span class="sd">    :rtype: :type:`str`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">SORT_BY</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span></div>


<div class="viewcode-block" id="disable_dynamic_name_lookup">
<a class="viewcode-back" href="../../api.html#painto.color.disable_dynamic_name_lookup">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">disable_dynamic_name_lookup</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disables dynamic name lookup.</span>

<span class="sd">    When dynamic name lookup is disabled, the name will return as the hex value</span>
<span class="sd">    if it isn&#39;t in one of the color_list sets. This is the default behavior.</span>

<span class="sd">    See also :ref:`newcolornames`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">DYNAMIC_NAME_LOOKUP</span>
    <span class="n">DYNAMIC_NAME_LOOKUP</span> <span class="o">=</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="enable_dynamic_name_lookup">
<a class="viewcode-back" href="../../api.html#painto.color.enable_dynamic_name_lookup">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">enable_dynamic_name_lookup</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets whether dynamic name lookup is enabled.</span>

<span class="sd">    When dynamic name lookup is enabled, if a color&#39;s name isn&#39;t known when</span>
<span class="sd">    using color.name, it will be looked up using the ``color.pizza`` API. With this</span>
<span class="sd">    disabled (the default), the name will return as the hex value.</span>

<span class="sd">    See also :ref:`newcolornames`.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        Use this with care. It will slow any access to :attr:`.name &lt;painto.color.Color.name&gt;` that isn&#39;t known</span>
<span class="sd">        and cached.</span>


<span class="sd">    :Example:</span>
<span class="sd">        &gt;&gt;&gt; new_color = painto.Color(&quot;#946A87&quot;)</span>
<span class="sd">        &gt;&gt;&gt; print(new_color.name)</span>

<span class="sd">        ``#946A87`` |946A87|</span>

<span class="sd">        &gt;&gt;&gt; painto.enable_dynamic_name_lookup()</span>
<span class="sd">        &gt;&gt;&gt; print(new_color.name)</span>

<span class="sd">        ``Fruit of Passion`` |946A87|</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">DYNAMIC_NAME_LOOKUP</span>
    <span class="n">DYNAMIC_NAME_LOOKUP</span> <span class="o">=</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="dynamic_name_lookup_enabled">
<a class="viewcode-back" href="../../api.html#painto.color.dynamic_name_lookup_enabled">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dynamic_name_lookup_enabled</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns whether dynamic name lookup is currently enabled. Change this</span>
<span class="sd">    with :meth:`enable_dynamic_name_lookup` or :meth:`disable_dynamic_name_lookup`.</span>

<span class="sd">    See also :ref:`newcolornames`.</span>

<span class="sd">    :returns:</span>
<span class="sd">        True if dynamic name lookup is enabled, False otherwise.</span>
<span class="sd">    :rtype: :type:`bool`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">DYNAMIC_NAME_LOOKUP</span></div>


<span class="c1"># endregion public static functions</span>

<span class="c1"># Add attributes to the class to make color names accessible as attributes</span>


<span class="n">color_lists</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Color</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">transparent</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span><span class="p">)</span>


</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">painto 0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">painto.color</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Michael Knowles.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>